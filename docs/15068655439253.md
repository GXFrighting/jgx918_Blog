# Swift4æ–°ç‰¹æ€§
> æ‘˜å½•æ¥è‡ª: By the raywenderlich.com Tutorial Team. â€œiOS 11 by Tutorialsâ€ã€‚

## One-sided ranges
```swift
â€œlet esports = ["Hearthstone", "CS:GO", "League of Legends", 
               "Super Smash Bros", "Overwatch", "Gigantic"]
                  
esports[3...]
// returns ["Super Smash Bros", "Overwatch", "Gigantic"]

// In Swift 3, you had to write
esports[3..<esports.endIndex]

esports[...2]
// returns ["Hearthstone", "CS:GO", "League of Legends"]

esports[..<2]
// returns ["Hearthstone", "CS:GO"]â€
```

### Infinite sequences
```swift
â€œlet uppercase = ["A", "B", "C", "D"]
let asciiCodes = zip(65..., uppercase)
print(Array(asciiCodes))
// prints [(65, "A"), (66, "B"), (67, "C"), (68, "D")]â€
```

### Pattern matching
```swift
â€œfunc gameRank(_ index: Int) -> String {
  switch index {
  case ...1:
    return "Oldie but goodie"
  case 3...:
    return "Meh"
  default:
    return "Awesome-sauce!"
  }
}

gameRank(2) 
// prints "Awesome-sauce!â€
```

## Strings
```swift
â€œlet text = "Hakuna Matata"
let unicodeText = "ğŸ‘‡ğŸ¿ğŸ‘ğŸ»ğŸ¤ğŸ‡¦ğŸ‡¹ğŸ‡§ğŸ‡¿ğŸ‡§ğŸ‡¹ğŸ‡«ğŸ‡¯ğŸ‡§ğŸ‡·"

text.count      // 13
text.isEmpty    // false
"".isEmpty      // true

// `reversed()` returns a `ReversedCollection<String>` so
// it must be converted back to `String`
String(text.reversed()) 
// "atataM anukaHâ€
```
```swift
var index = text.index(text.startIndex, offsetBy: 7)
text[index]
// "M"

// You can use prefix(upTo:) and suffix(from:) 
// but why not use one-sided ranges instead

let lastWord = text[index...]
// lastWord is "Matata"

index = text.index(text.endIndex, offsetBy: -7)
let firstWord = text[..<index]
// firstWord is "Hakunaâ€
```

## Introducing Substring
```swift
type(of: lastWord)
// Substring.Type

lastWord.uppercased()
// "MATATA"

let lastWordAsString = String(lastWord)
type(of: lastWordAsString)
// String.Type
```

## Unicode magic
```swift
// swift3
let c: Character = "ğŸ‡¨ğŸ‡­"
Array(c.unicodeScalars)
// [127464, 127469]

// swift4
"ğŸ‡§ğŸ‡¿ğŸ‡«ğŸ‡¯ğŸ‡§ğŸ‡·".count    // 3
"ğŸ‘‡ğŸ¿".count        // 1
"ğŸ‘ğŸ»".count        // 1
"ğŸ‡¦ğŸ‡¹".count        // 1
```

```swift
let population = "1ï¸âƒ£ğŸ‘©ğŸ½â€ğŸŒ¾2ï¸âƒ£ğŸ“3ï¸âƒ£ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦"
population.count
// 6

var nsRange = NSRange(population.startIndex..., 
                      in: population)
// population.startIndex... is a Range<String.Index>
// (0, 29)

population.utf16.count
// 29

let display = NSMutableAttributedString(
        string: population, 
        attributes: [.font: UIFont.systemFont(ofSize: 20)])
```
![](media/15068655439253/15119376010872.png)

```swift
let oneIndex = population.index(of: "1ï¸âƒ£")!
let twoIndex = population.index(of: "2ï¸âƒ£")!
let threeIndex = population.index(of: "3ï¸âƒ£")!
var range = oneIndex..<twoIndex
nsRange = NSRange(range, in: population)
display.addAttribute(.font, 
                     value: UIFont.systemFont(ofSize: 40), 
                     range: nsRange)
```
![](media/15068655439253/15119375814237.png)

```swift
range = twoIndex..<threeIndex
nsRange = NSRange(range, in: population)
display.addAttribute(.font, 
                     value: UIFont.systemFont(ofSize: 30), 
                     range: nsRange)
```
![](media/15068655439253/15119377466426.png)

```swift
let textInput = "You have traveled 483.2 miles."
let pattern = "[0-9]+(\\.([0-9])?)?"
let regex = try! NSRegularExpression(pattern: pattern, 
                                     options: [])
nsRange = NSRange(textInput.startIndex..., in: textInput)
let mileage = regex.rangeOfFirstMatch(in: textInput, 
                                      range: nsRange)
range = Range(mileage, in: textInput)!
textInput[range]
// "483.2â€
```

## Multi-line string literals
```swift
let firstVerse = """
  Half a league, half a league,
    Half a league onward,
  All in the valley of Death
    Rode the six hundred.
  "Forward, the Light Brigade!
  "Charge for the guns!" he said:
  Into the valley of Death
    Rode the six hundred.
  ""
```
#####print(firstVerse) results in:
![](media/15068655439253/15119379343147.png)


